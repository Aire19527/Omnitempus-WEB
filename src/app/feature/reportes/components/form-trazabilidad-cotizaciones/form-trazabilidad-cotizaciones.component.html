<div mat-dialog-title class="container-title-modal">
  Trazabilidad de cotizaciones
</div>

<mat-dialog-content class="custom-dialog-content">
  <form class="mt-2" [formGroup]="traceabilityFormGroup">
    <div class="row">
      <div class="col-lg-6 col-md-6 col-sm-12">
        <mat-form-field class="form-group" appearance="outline" class="matField">
          <mat-label class="mb-2">Cliente</mat-label>
          <input matInput placeholder="Buscar cliente" (keyup)="filterCustomers($event)"  autocomplete="off">
          <mat-select name="customerId" formControlName="customerId" [disableOptionCentering]="true" multiple>
            <mat-option *ngFor="let customer of filteredCustomerList" [value]="customer.id">
              {{ customer.name }}
            </mat-option>
          </mat-select>
          <span *ngIf="!filteredCustomerList.length && showNoCustomerMessageCustomer" class="error-message">
            Este registro no existe
          </span>
        </mat-form-field>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <mat-form-field class="form-group" appearance="outline" class="matField">
          <mat-label class="mb-2">Cotización</mat-label>
          <input matInput placeholder="Buscar cotización" (keyup)="filterQuotations($event)" autocomplete="off">
          <mat-select name="quotationId" formControlName="quotationId" [disableOptionCentering]="true" multiple>
            <mat-option *ngFor="let quotation of filteredQuotationList" [value]="quotation.id">
              {{ quotation.requestNumber }} - {{ quotation.customersName }}
            </mat-option>
          </mat-select>
          <span *ngIf="!filteredQuotationList.length && showNoCustomerMessageQuotation" class="error-message">
            Este registro no existe
          </span>
        </mat-form-field>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <mat-form-field class="form-group" appearance="outline" class="matField">
          <mat-label class="mb-2">Línea de negocio</mat-label>
          <input matInput placeholder="Buscar línea negocio" (keyup)="filterBussiness($event)" autocomplete="off">
          <mat-select name="businessLineId" formControlName="businessLineId" [disableOptionCentering]="true" multiple>
            <mat-option *ngFor="let businessLine of filteredBussinessList" [value]="businessLine.id">
              {{ businessLine.name }}
            </mat-option>
          </mat-select>
          <span *ngIf="!filteredBussinessList.length && showNoCustomerMessageBussiness" class="error-message">
            Este registro no existe
          </span>
        </mat-form-field>
      </div>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions class="d-flex justify-content-end">
  <button mat-raised-button class="cancelar text-dark" [mat-dialog-close]="false">
    Cancelar
  </button>
  <button mat-raised-button class="guardar text-dark mx-3" [disabled]="!getValidGenerate" (click)="goPreview()">
    Generar
  </button>
</mat-dialog-actions>