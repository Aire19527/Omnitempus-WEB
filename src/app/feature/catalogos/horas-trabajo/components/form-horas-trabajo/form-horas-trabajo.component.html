<div class="container-title-header"></div>
<div class="container-fluid container-padding">
  <div class="formulario">
    <form class="down" [formGroup]="wourkHoursFormGroup">
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Abreviatura</mat-label>
            <input
              matInput
              class="large-input"
              formControlName="abbreviation"
              required
              maxlength="3"
              #abreviatura
              autocomplete="off"
            />
            <mat-error
              *ngIf="
                wourkHoursFormGroup.get('abbreviation')?.hasError('required')
              "
            >
              Este campo es obligatorio.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Nombre</mat-label>
            <input
              matInput
              class="large-input"
              formControlName="name"
              required
              maxlength="100"
              autocomplete="off"
            />
            <mat-error
              *ngIf="wourkHoursFormGroup.get('name')?.hasError('required')"
            >
              Este campo es obligatorio.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-label matLabel class="mb-2">Días de la semana*</mat-label>
          <br />
          <ul class="lista-horizontal">
            <li class="diaH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveMonday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Lunes')"
              >
                L
              </button>
            </li>
            <li class="diaH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveTuesday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Martes')"
              >
                M
              </button>
            </li>
            <li class="diaH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveWednesday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Miércoles')"
              >
                M
              </button>
            </li>
            <li class="diaH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveThursday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Jueves')"
              >
                J
              </button>
            </li>
            <li class="diaH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveFriday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Viernes')"
              >
                V
              </button>
            </li>
            <li class="diaNH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveSaturday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Sábado')"
              >
                S
              </button>
            </li>
            <li class="diaNH col-lg-2 col-md-2">
              <button
                [ngClass]="isActiveSunday ? 'btn-dH' : 'btn-dNH'"
                (click)="addDays('Domingo')"
              >
                D
              </button>
            </li>
          </ul>
        </div>
        <br />
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Hora inicio</mat-label>
            <input
              matInput
              formControlName="initialTime"
              mask="Hh:m0"
              placeholder="hh:mm"
              autocomplete="off"
              required
            />
            <mat-error *ngIf="initialTime?.errors">
              Este campo es obligatorio.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Hora finalización</mat-label>
            <input
              matInput
              formControlName="endTime"
              mask="Hh:m0"
              placeholder="hh:mm"
              autocomplete="off"
              required
            />
            <mat-error *ngIf="endTime?.errors">
              Este campo es obligatorio.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Número de horas</mat-label>
            <mat-select
              name="overtimeCount"
              formControlName="overtimeCount"
              [disableOptionCentering]="true"
              required
            >
              <mat-option *ngFor="let hours of overtimeHours" [value]="hours">
                {{ hours }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="wourkHoursFormGroup.get('overtimeCount')?.errors">
              Este campo es obligatorio
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">Tipo de horario</mat-label>
            <mat-select
              name="idTypeOvertime"
              formControlName="idTypeOvertime"
              [disableOptionCentering]="true"
              required
            >
              <mat-option
                *ngFor="let type of typeOvertimes"
                [value]="type.idTypeOvertime"
              >
                {{ type.typeOvertime }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="wourkHoursFormGroup.get('overtimeCount')?.errors">
              Este campo es obligatorio
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2">¿Es extra o recargo?</mat-label>
            <mat-select
              name="hourType"
              formControlName="hourType"
              [disableOptionCentering]="true"
            >
              <mat-option [value]="1"> No aplica </mat-option>
              <mat-option [value]="2"> Extra </mat-option>
              <mat-option [value]="3"> Recargo </mat-option>
            </mat-select>
            <mat-error *ngIf="wourkHoursFormGroup.get('hourType')?.errors">
              Este campo es obligatorio
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2"
              >Porcentaje de recargo ajustado</mat-label
            >
            <input
              matInput
              class="example-right-align"
              formControlName="surchargePercentageAdjusted"
              suffix="%"
              maxlength="6"
              max="999"
              mask="separator.2"
              thousandSeparator=","
              decimalMarker="."
              autocomplete="off"
            />
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <mat-form-field
            class="form-group"
            appearance="outline"
            class="matField"
          >
            <mat-label matLabel class="mb-2"
              >Porcentaje de recargo OT</mat-label
            >
            <input
              matInput
              class="example-right-align"
              formControlName="surchargePercentageOT"
              suffix="%"
              maxlength="6"
              max="999"
              mask="separator.2"
              thousandSeparator=","
              decimalMarker="."
              autocomplete="off"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-3">
        <button
          mat-raised-button
          class="btnSize cancelar text-dark mx-3"
          (click)="goBack()"
        >
          Cancelar
        </button>
        <button
          mat-raised-button
          class="btnSize guardar text-dark"
          (click)="saveUpdateWourkHours()"
          [disabled]="wourkHoursFormGroup.invalid"
        >
          {{ titleButton }}
        </button>
      </div>
    </form>
  </div>
</div>
